\chapter{Software}

\section{Introducción}

\section{Arquitectura de Software}
\subsection{Descripción}
Un sistema linux en general se compone de diferentes partes que interactúan entre si, en capas  ordenadas según distintos grados de abstracción respecto al hardware. Esto lo podemos apreciar en la (FIGURA) donde se muestra a grandes rasgos nuestro sistema. 

El bootloader es la parte del sistema más primitiva y su función es la de cargar el kernel en memoria RAM para su ejecución. En general el bootloader se divide en dos etapas, la primera etapa del bootloader se encarga de buscar la segunda etapa del bootloader en particiones activas para luego cargarlo en RAM y ejecutarlo. La segunda etapa del bootloader se encarga de cargar una imagen comprimida del kernel en RAM y ejecutarlo. En este momento se descomprime el kernel y se cede el control al kernel.
El kernel se encarga a grandes rasgos de habilitar interrupciones, configurar la memoria y montar un sistema de archivos primitivo que permite a su vez cargar los módulos necesarios para la interfáz con periféricos. Luego se monta el verdadero sistema de archivos (fileSystem). En este nuevo sistema de archivos es donde se instalarán diferentes programas y librerías para una correcta ejecución de nuestra aplicación.

En funcionamiento toda la comunicación con periféricos se realiza a través del kernel que es la parte más cercana al hardware.
Cada vez que ejecutamos una aplicación, esta hace uso de las librerías para poder comunicarse con el kernel, y éste se encarga de la comunicación con los periféricos. Las librerías pueden ser nativas como es el caso de la librería de lenguaje C  o desarrolladas para que nuestra aplicación funcione correctamente.

\subsection{Sistema Operativo}
La beagleboard al arrancar tiene la posibilidad de buscar el bootloader en NAND o en dispositivos extraíbles tales como memorias USB o memorias SD, lo mismo sucede con el kernel. Para nuestro sistema, elegimos un arranque a través de una memoria SD ya que es más fácil de manipular.

En la siguiente FIGURA se puede ver como queda compuesta la SD.
En la FIGURA se pueden distinguir dos particiones, una en formato FAT32 y otra en formato ext3.
La partición con FAT32 es la partición de arranque donde se encuentra el bootloader(MLO, u-boot.bin) y el kernel(uImage).
La partición con ext3 es la partición donde se encuentra el sistema de archivos(fileSystem).

El MLO es el equivalente bootloader de la primera etapa y el u-boot.bin el equivalente al de la segunda etapa.
El uImage es el kernel.
El fileSystem es el correspondiente a una distribución Angström.

\subsection{Librerías}

\section{Herramientas utilizadas en el desarrollo del sistema}
\subsection{Introducción}
\subsection{Generación de MLO, u-boot.bin y uImage}
\subsection{Generación de FS}
\subsection{Croscompilación}
\subsection{Depuración de código}
\subsection{Librerías}

\section{Desarrollo}
\subsection{MLO}
\subsection{u-boot}
\subsection{uImage}
\subsection{FileSystem}
\subsection{Librerías}

\section{Ejecución de programa principal}
\subsection{Script para ejecución autónoma}
